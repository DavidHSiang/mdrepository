---
title: Python使用四舍五入解决浮点数运算不确定尾数
date: 2020-04-28 17:37:36
reward: true
declare: true
tags: 
	- Python
categories: 
	- [后端语言,Python]
---

## 不确定尾数介绍:

浮点数间运算存在不确定尾数, 例如: 

```python
>>> 0.1 + 0.2
0.30000000000000004
```

0.1 + 0.2 理应是0.3 而程序的结果却是: `0.30000000000000004`其中的``0000000000000004``就是不确定尾数

首先, **这不是bug**, 这是因为: 在计算机中的浮点数都是由二进制来表示的,而二进制和十进制之间不存在严格的对等关系, 所以十进制小数在二进制中,有可能是一个无限小数, 而计算机只能截取其中的一部分, 这也就造成了浮点数精度的缺失

由于浮点数运算的精度缺失,在执行条件判断时,  0.1 + 0.2 ≠ 0.3

```python
>>> 0.1 + 0.2 == 0.3
False
```

那要如何才能使条件判断结果为True呢? 可以使用``round()``方法进行四舍五入

<!--more-->

## 不确定尾数解决: 

>  ``round(x,d)``

* 作用: 四舍五入

* 参数: 
  * x : 对x进行四舍五入
  * d : 小数截取的位数

>  实例: 

```python
>>> 0.1 + 0.2 == 0.3
False
>>> round(0.1 + 0.2, 1) == 0.3
True
```

